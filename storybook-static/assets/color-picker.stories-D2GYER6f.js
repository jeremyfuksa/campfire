import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as x}from"./index-GiUgBvb1.js";import{P as W,a as F,b as R}from"./popover-D3jG_2RE.js";import{I as z}from"./input-sdg43N0s.js";import{B as G}from"./button-BRjgC2Lq.js";import{c as I}from"./utils-CDN07tui.js";import"./index-H3PLFF-t.js";import"./index-C8NrMXaH.js";import"./index-DPoW6Z9t.js";function g({value:t="#000000",onChange:s,disabled:r=!1,className:l,showInput:c=!0,presets:f=["#000000","#ffffff","#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"]}){const[m,u]=x.useState(!1),[o,d]=x.useState(t),[n,p]=x.useState(t);x.useEffect(()=>{d(t),p(t)},[t]);const i=a=>{d(a),p(a),s==null||s(a)},O=a=>{const h=a.target.value;p(h),/^#[0-9A-Fa-f]{6}$/.test(h)&&(d(h),s==null||s(h))},N=(a,h,A)=>{const B=K(a,h,A);i(B)},{h:y,s:S,l:k}=J(o);return e.jsxs(W,{open:m,onOpenChange:u,children:[e.jsx(F,{asChild:!0,children:e.jsxs(G,{variant:"outline",className:I("justify-start gap-2",l),disabled:r,children:[e.jsx("div",{className:"h-5 w-5 rounded border",style:{backgroundColor:o}}),e.jsx("span",{className:"flex-1 text-left font-mono text-sm",children:o})]})}),e.jsx(R,{className:"w-64",align:"start",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-24 w-full rounded-lg border",style:{backgroundColor:o}}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Hue"}),e.jsx("input",{type:"range",min:"0",max:"360",value:y,onChange:a=>N(Number(a.target.value),S,k),className:"w-full",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Saturation"}),e.jsx("input",{type:"range",min:"0",max:"100",value:S,onChange:a=>N(y,Number(a.target.value),k),className:"w-full",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Lightness"}),e.jsx("input",{type:"range",min:"0",max:"100",value:k,onChange:a=>N(y,S,Number(a.target.value)),className:"w-full",disabled:r})]}),c&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Hex"}),e.jsx(z,{value:n,onChange:O,placeholder:"#000000",disabled:r,className:"font-mono"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Presets"}),e.jsx("div",{className:"grid grid-cols-9 gap-1",children:f.map(a=>e.jsx("button",{type:"button",onClick:()=>i(a),disabled:r,className:I("h-8 w-8 rounded border transition-all","hover:scale-110",o===a&&"ring-2 ring-primary ring-offset-2"),style:{backgroundColor:a},"aria-label":`Select color ${a}`},a))})]})]})})]})}function J(t){const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!s)return{h:0,s:0,l:0};let r=parseInt(s[1],16)/255,l=parseInt(s[2],16)/255,c=parseInt(s[3],16)/255;const f=Math.max(r,l,c),m=Math.min(r,l,c);let u=0,o=0;const d=(f+m)/2;if(f!==m){const n=f-m;switch(o=d>.5?n/(2-f-m):n/(f+m),f){case r:u=((l-c)/n+(l<c?6:0))/6;break;case l:u=((c-r)/n+2)/6;break;case c:u=((r-l)/n+4)/6;break}}return{h:Math.round(u*360),s:Math.round(o*100),l:Math.round(d*100)}}function K(t,s,r){t/=360,s/=100,r/=100;let l,c,f;if(s===0)l=c=f=r;else{const u=(n,p,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<.16666666666666666?n+(p-n)*6*i:i<.5?p:i<.6666666666666666?n+(p-n)*(.6666666666666666-i)*6:n),o=r<.5?r*(1+s):r+s-r*s,d=2*r-o;l=u(d,o,t+1/3),c=u(d,o,t),f=u(d,o,t-1/3)}const m=u=>{const o=Math.round(u*255).toString(16);return o.length===1?"0"+o:o};return`#${m(l)}${m(c)}${m(f)}`}g.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#000000"',computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},showInput:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},presets:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:`[
  "#000000", "#ffffff", "#ef4444", "#f97316", "#f59e0b", "#eab308",
  "#84cc16", "#22c55e", "#10b981", "#14b8a6", "#06b6d4", "#0ea5e9",
  "#3b82f6", "#6366f1", "#8b5cf6", "#a855f7", "#d946ef", "#ec4899",
]`,computed:!1}}}};const ae={title:"Components/ColorPicker",component:g,parameters:{layout:"centered"},tags:["autodocs"]},b={render:()=>{const[t,s]=x.useState("#3b82f6");return e.jsxs("div",{children:[e.jsx(g,{value:t,onChange:s}),e.jsxs("p",{className:"mt-4 text-sm",children:["Selected: ",t]})]})}},v={render:()=>{const[t,s]=x.useState("#ec4899");return e.jsx(g,{value:t,onChange:s,showInput:!1})}},j={render:()=>{const[t,s]=x.useState("#000000");return e.jsx(g,{value:t,onChange:s,presets:["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"]})}},C={args:{value:"#3b82f6",disabled:!0}};var P,w,T;b.parameters={...b.parameters,docs:{...(P=b.parameters)==null?void 0:P.docs,source:{originalSource:`{
  render: () => {
    const [color, setColor] = useState("#3b82f6");
    return <div>
        <ColorPicker value={color} onChange={setColor} />
        <p className="mt-4 text-sm">Selected: {color}</p>
      </div>;
  }
}`,...(T=(w=b.parameters)==null?void 0:w.docs)==null?void 0:T.source}}};var H,M,V;v.parameters={...v.parameters,docs:{...(H=v.parameters)==null?void 0:H.docs,source:{originalSource:`{
  render: () => {
    const [color, setColor] = useState("#ec4899");
    return <ColorPicker value={color} onChange={setColor} showInput={false} />;
  }
}`,...(V=(M=v.parameters)==null?void 0:M.docs)==null?void 0:V.source}}};var $,q,D;j.parameters={...j.parameters,docs:{...($=j.parameters)==null?void 0:$.docs,source:{originalSource:`{
  render: () => {
    const [color, setColor] = useState("#000000");
    return <ColorPicker value={color} onChange={setColor} presets={["#000000", "#ffffff", "#ff0000", "#00ff00", "#0000ff", "#ffff00", "#ff00ff", "#00ffff"]} />;
  }
}`,...(D=(q=j.parameters)==null?void 0:q.docs)==null?void 0:D.source}}};var E,_,L;C.parameters={...C.parameters,docs:{...(E=C.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    value: "#3b82f6",
    disabled: true
  }
}`,...(L=(_=C.parameters)==null?void 0:_.docs)==null?void 0:L.source}}};const oe=["Default","WithoutInput","CustomPresets","Disabled"];export{j as CustomPresets,b as Default,C as Disabled,v as WithoutInput,oe as __namedExportsOrder,ae as default};
