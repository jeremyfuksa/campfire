import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as o}from"./index-GiUgBvb1.js";import{c as z}from"./utils-CDN07tui.js";import{B as I}from"./button-BRjgC2Lq.js";import{I as G}from"./input-sdg43N0s.js";import{u as xe}from"./index-DPoW6Z9t.js";import{u as ge,c as be,P as re,a as $,b as ve,d as ke}from"./index-H3PLFF-t.js";import"./index-C8NrMXaH.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),je=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,n,l)=>l?l.toUpperCase():n.toLowerCase()),H=t=>{const a=je(t);return a.charAt(0).toUpperCase()+a.slice(1)},oe=(...t)=>t.filter((a,n,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=o.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:i,...m},f)=>o.createElement("svg",{ref:f,...ye,width:a,height:a,stroke:t,strokeWidth:l?Number(n)*24/Number(a):n,className:oe("lucide",c),...m},[...i.map(([S,x])=>o.createElement(S,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,a)=>{const n=o.forwardRef(({className:l,...c},d)=>o.createElement(we,{ref:d,iconNode:a,className:oe(`lucide-${Ce(H(t))}`,`lucide-${t}`,l),...c}));return n.displayName=H(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ae=Se("check",Ne);function Pe(t){const a=o.useRef({value:t,previous:t});return o.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var O="Checkbox",[Ee]=be(O),[Re,ze]=Ee(O),ne=o.forwardRef((t,a)=>{const{__scopeCheckbox:n,name:l,checked:c,defaultChecked:d,required:i,disabled:m,value:f="on",onCheckedChange:S,form:x,...A}=t,[h,k]=o.useState(null),C=xe(a,p=>k(p)),E=o.useRef(!1),N=h?x||!!h.closest("form"):!0,[j=!1,v]=ge({prop:c,defaultProp:d,onChange:S}),R=o.useRef(j);return o.useEffect(()=>{const p=h==null?void 0:h.form;if(p){const b=()=>v(R.current);return p.addEventListener("reset",b),()=>p.removeEventListener("reset",b)}},[h,v]),e.jsxs(Re,{scope:n,state:j,disabled:m,children:[e.jsx(re.button,{type:"button",role:"checkbox","aria-checked":w(j)?"mixed":j,"aria-required":i,"data-state":ce(j),"data-disabled":m?"":void 0,disabled:m,value:f,...A,ref:C,onKeyDown:$(t.onKeyDown,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:$(t.onClick,p=>{v(b=>w(b)?!0:!b),N&&(E.current=p.isPropagationStopped(),E.current||p.stopPropagation())})}),N&&e.jsx(Te,{control:h,bubbles:!E.current,name:l,value:f,checked:j,required:i,disabled:m,form:x,style:{transform:"translateX(-100%)"},defaultChecked:w(d)?!1:d})]})});ne.displayName=O;var ie="CheckboxIndicator",le=o.forwardRef((t,a)=>{const{__scopeCheckbox:n,forceMount:l,...c}=t,d=ze(ie,n);return e.jsx(ve,{present:l||w(d.state)||d.state===!0,children:e.jsx(re.span,{"data-state":ce(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:a,style:{pointerEvents:"none",...t.style}})})});le.displayName=ie;var Te=t=>{const{control:a,checked:n,bubbles:l=!0,defaultChecked:c,...d}=t,i=o.useRef(null),m=Pe(n),f=ke(a);o.useEffect(()=>{const x=i.current,A=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(A,"checked").set;if(m!==n&&k){const C=new Event("click",{bubbles:l});x.indeterminate=w(n),k.call(x,w(n)?!1:n),x.dispatchEvent(C)}},[m,n,l]);const S=o.useRef(w(n)?!1:n);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c??S.current,...d,tabIndex:-1,ref:i,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(t){return t==="indeterminate"}function ce(t){return w(t)?"indeterminate":t?"checked":"unchecked"}var De=ne,Ie=le;function U({className:t,...a}){return e.jsx(De,{"data-slot":"checkbox",className:z("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:e.jsx(Ie,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Ae,{className:"size-3.5"})})})}U.__docgenInfo={description:"",methods:[],displayName:"Checkbox"};function de({data:t,columns:a,pageSize:n=10,selectable:l=!1,onSelectionChange:c,className:d}){const[i,m]=o.useState(0),[f,S]=o.useState(n),[x,A]=o.useState(null),[h,k]=o.useState(null),[C,E]=o.useState({}),[N,j]=o.useState(""),[v,R]=o.useState(new Set),p=o.useMemo(()=>{let s=[...t];return Object.entries(C).forEach(([r,u])=>{u&&(s=s.filter(g=>{const y=a.find(he=>he.id===r);if(!y)return!0;const D=y.accessor(g);return String(D).toLowerCase().includes(u.toLowerCase())}))}),N&&(s=s.filter(r=>a.some(u=>{const g=u.accessor(r);return String(g).toLowerCase().includes(N.toLowerCase())}))),s},[t,C,N,a]),b=o.useMemo(()=>{if(!x||!h)return p;const s=a.find(r=>r.id===x);return s?[...p].sort((r,u)=>{const g=s.accessor(r),y=s.accessor(u);if(g===y)return 0;const D=g<y?-1:1;return h==="asc"?D:-D}):p},[p,x,h,a]),P=o.useMemo(()=>{const s=i*f;return b.slice(s,s+f)},[b,i,f]),T=Math.ceil(b.length/f),ue=s=>{const r=a.find(u=>u.id===s);r!=null&&r.sortable&&(x===s?h==="asc"?k("desc"):h==="desc"&&(k(null),A(null)):(A(s),k("asc")))},me=()=>{if(v.size===P.length)R(new Set),c==null||c([]);else{const s=new Set(P.map((r,u)=>i*f+u));R(s),c==null||c(Array.from(s).map(r=>b[r]))}},pe=s=>{const r=i*f+s,u=new Set(v);u.has(r)?u.delete(r):u.add(r),R(u),c==null||c(Array.from(u).map(g=>b[g]))},fe=s=>{S(Number(s)),m(0)};return e.jsxs("div",{className:z("space-y-4",d),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{placeholder:"Search all columns...",value:N,onChange:s=>{j(s.target.value),m(0)},className:"max-w-sm"}),v.size>0&&e.jsxs("span",{className:"text-sm",style:{color:"var(--neutral-600)"},children:[v.size," row(s) selected"]})]}),e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--neutral-800)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{backgroundColor:"var(--neutral-900)"},children:e.jsxs("tr",{children:[l&&e.jsx("th",{className:"p-4 text-left",style:{width:"48px"},children:e.jsx(U,{checked:P.length>0&&v.size===P.length,onCheckedChange:me})}),a.map(s=>e.jsxs("th",{className:z("p-4 text-left text-sm font-semibold",s.sortable&&"cursor-pointer select-none hover:bg-neutral-800"),style:{width:s.width,color:"var(--neutral-100)"},onClick:()=>s.sortable&&ue(s.id),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.header,s.sortable&&e.jsx("span",{style:{color:"var(--neutral-500)"},children:x===s.id?h==="asc"?e.jsx("i",{className:"fa-solid fa-arrow-up text-xs"}):e.jsx("i",{className:"fa-solid fa-arrow-down text-xs"}):e.jsx("i",{className:"fa-solid fa-sort text-xs"})})]}),s.filterable&&e.jsx(G,{placeholder:`Filter ${s.header.toLowerCase()}...`,value:C[s.id]||"",onChange:r=>{E({...C,[s.id]:r.target.value}),m(0)},onClick:r=>r.stopPropagation(),className:"mt-2"})]},s.id))]})}),e.jsx("tbody",{children:P.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:a.length+(l?1:0),className:"p-8 text-center",style:{color:"var(--neutral-500)"},children:"No results found"})}):P.map((s,r)=>{const u=i*f+r,g=v.has(u);return e.jsxs("tr",{className:z("border-t transition-colors",g&&"bg-primary-900/20"),style:{borderColor:"var(--neutral-800)",backgroundColor:g?void 0:"var(--neutral-950)"},children:[l&&e.jsx("td",{className:"p-4",children:e.jsx(U,{checked:g,onCheckedChange:()=>pe(r)})}),a.map(y=>e.jsx("td",{className:"p-4 text-sm",style:{color:"var(--neutral-300)"},children:y.accessor(s)},y.id))]},r)})})]})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",style:{color:"var(--neutral-600)"},children:"Rows per page:"}),e.jsxs("select",{value:String(f),onChange:s=>fe(s.target.value),className:z("border-input focus-visible:border-ring focus-visible:ring-ring/50","h-8 rounded-md border bg-input-background px-2 text-sm","outline-none focus-visible:ring-[3px] transition-all"),style:{color:"var(--neutral-300)"},"aria-label":"Rows per page",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"20",children:"20"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm",style:{color:"var(--neutral-600)"},children:["Page ",i+1," of ",T||1]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>m(0),disabled:i===0,"aria-label":"Go to first page",children:e.jsx("i",{className:"fa-solid fa-angles-left"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>m(i-1),disabled:i===0,"aria-label":"Go to previous page",children:e.jsx("i",{className:"fa-solid fa-angle-left"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>m(i+1),disabled:i>=T-1,"aria-label":"Go to next page",children:e.jsx("i",{className:"fa-solid fa-angle-right"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>m(T-1),disabled:i>=T-1,"aria-label":"Go to last page",children:e.jsx("i",{className:"fa-solid fa-angles-right"})})]})]})]})]})}de.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},pageSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},selectable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedRows: T[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"T"}],raw:"T[]"},name:"selectedRows"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const F=[{id:1,name:"Alice Smith",email:"alice@example.com",role:"Admin",status:"Active"},{id:2,name:"Bob Johnson",email:"bob@example.com",role:"User",status:"Active"},{id:3,name:"Charlie Brown",email:"charlie@example.com",role:"User",status:"Inactive"},{id:4,name:"Diana Prince",email:"diana@example.com",role:"Moderator",status:"Active"},{id:5,name:"Eve Davis",email:"eve@example.com",role:"User",status:"Active"},{id:6,name:"Frank Miller",email:"frank@example.com",role:"Admin",status:"Active"},{id:7,name:"Grace Lee",email:"grace@example.com",role:"User",status:"Inactive"},{id:8,name:"Henry Wilson",email:"henry@example.com",role:"User",status:"Active"},{id:9,name:"Iris Taylor",email:"iris@example.com",role:"Moderator",status:"Active"},{id:10,name:"Jack Anderson",email:"jack@example.com",role:"User",status:"Active"}],q=[{id:"name",header:"Name",accessor:t=>t.name,sortable:!0,filterable:!0},{id:"email",header:"Email",accessor:t=>t.email,sortable:!0,filterable:!0},{id:"role",header:"Role",accessor:t=>t.role,sortable:!0},{id:"status",header:"Status",accessor:t=>e.jsx("span",{className:"inline-flex items-center rounded-full px-2 py-1 text-xs font-medium",style:{backgroundColor:t.status==="Active"?"var(--success-900)":"var(--neutral-800)",color:t.status==="Active"?"var(--success-300)":"var(--neutral-400)"},children:t.status})}],Ge={title:"Components/DataTable",component:de,parameters:{layout:"padded"},tags:["autodocs"]},L={args:{data:F,columns:q,pageSize:5}},_={args:{data:F,columns:q,selectable:!0,pageSize:5,onSelectionChange:t=>console.log("Selected:",t)}},M={args:{data:F,columns:q,pageSize:10}},B={args:{data:[],columns:q}};var K,W,V;L.parameters={...L.parameters,docs:{...(K=L.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    data: users,
    columns,
    pageSize: 5
  }
}`,...(V=(W=L.parameters)==null?void 0:W.docs)==null?void 0:V.source}}};var J,X,Z;_.parameters={..._.parameters,docs:{...(J=_.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    data: users,
    columns,
    selectable: true,
    pageSize: 5,
    onSelectionChange: rows => console.log("Selected:", rows)
  }
}`,...(Z=(X=_.parameters)==null?void 0:X.docs)==null?void 0:Z.source}}};var Q,Y,ee;M.parameters={...M.parameters,docs:{...(Q=M.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    data: users,
    columns,
    pageSize: 10
  }
}`,...(ee=(Y=M.parameters)==null?void 0:Y.docs)==null?void 0:ee.source}}};var te,se,ae;B.parameters={...B.parameters,docs:{...(te=B.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    data: [],
    columns
  }
}`,...(ae=(se=B.parameters)==null?void 0:se.docs)==null?void 0:ae.source}}};const $e=["Default","WithSelection","LargePageSize","EmptyState"];export{L as Default,B as EmptyState,M as LargePageSize,_ as WithSelection,$e as __namedExportsOrder,Ge as default};
